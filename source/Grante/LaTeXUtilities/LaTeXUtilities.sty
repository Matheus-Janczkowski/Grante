% File to store functions and commands to work with LaTeX. Created by
% Matheus Janczkowski Foga√ßa
%
% Usage instructions, paste on preambule:
% \usepackage{LaTeXUtilities}

\ProvidesPackage{LaTeXUtilities}[2025/10/06 Custom commands by Matheus Janczkowski Fogaca]

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                            Load packages                           %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Loads a set of packages, so that none has to be loaded in the file's
% preamble

\RequirePackage{ulem}
\RequirePackage{mathtools}
\RequirePackage{tikz}
\RequirePackage[english]{babel}
\RequirePackage{amsmath}
\RequirePackage{mattens}
\RequirePackage{amsthm}
\RequirePackage{amssymb}
\RequirePackage{multirow}
\RequirePackage{amsfonts}
\RequirePackage{hhline}
\RequirePackage{commath}
\RequirePackage{graphicx}
\RequirePackage[utf8]{inputenc}
\RequirePackage{bm}
\RequirePackage[T1]{fontenc}
\RequirePackage{url}
\RequirePackage[title]{appendix}
\RequirePackage{mathrsfs}
%\RequirePackage{authblk}
\RequirePackage{accents}
\RequirePackage{hyperref}
\RequirePackage{algpseudocode}
\RequirePackage[algo2e,ruled,linesnumbered]{algorithm2e}
\RequirePackage{breakcites}
\RequirePackage{xcolor}
% Package to force nocn to enumerate the code lines from 1
\RequirePackage[nocn]{ffcode} 
\RequirePackage{colortbl}
% Package to enumerate with letters
\RequirePackage[shortlabels]{enumitem}
% Package to place figures within the sections where they had been al
% ready placed.
\RequirePackage[section]{placeins}
\RequirePackage{comment}
\RequirePackage{listings}
\lstset{basicstyle=\ttfamily, breaklines=true, columns=fullflexible}
\RequirePackage[numbers]{natbib}
\RequirePackage{geometry}
\RequirePackage{setspace}
\RequirePackage{ifthen}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                           Text formatting                          %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Command for setting the left, right, top, and bottom margins, respec-
% tively. This setting will be kept for all pages

\newcommand{\SetMargins}[4]{\geometry{left=#1, right=#2, top=#3,% 
bottom=#4}}

% Command for setting the left, right, top, and bottom margins, respec-
% tively. This setting will be alternated from odd to even page numbers.
% The first commands are to override the twoside flag in the document 
% environment; this flag is often overrun and set in many template clas-
% ses, such as the one from Elsevier

\newcommand{\SetBindingMargins}[4]{\AtBeginDocument{\makeatletter%
\@twosidetrue\@mparswitchtrue\makeatother\geometry{a4paper, inner=#1,%
outer=#2, top=#3, bottom=#4, twoside}}}

% Command for setting ABNT spacing and margin standards

\newcommand{\SetABNTSpacings}[1]{\ifthenelse{\equal{#1}{FrenteVerso}}{%
\SetBindingMargins{3cm}{2cm}{3cm}{2cm}}{\geometry{left=3cm, right=2cm,% 
top=3cm, bottom=2cm}}\onehalfspacing\setlength{\parindent}{1.25cm}%
\setlength{\parskip}{0pt}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                       Corrections and review                       %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Following Prof. Eduardo Lenz correction and reviewing standard, the 
% commands below are defined

% Command for coloring text red

\newcommand{\TextRed}[1]{\textcolor{red}{#1}}

% Command for coloring text red and making it crossed out

\newcommand{\TextRedOut}[1]{\textcolor{red}{\sout{#1}}}

% Command for coloring text blue

\newcommand{\TextBlue}[1]{\textcolor{blue}{#1}}

% Command for coloring text red and making it bold

\newcommand{\TextRedBold}[1]{\textbf{\textcolor{red}{#1}}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                             Equations                              %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Command for creating an implication arrow with text above and under-
% neath it

\newcommand*{\CommentedArrow}[2]{\xRightarrow[#2]{#1}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                               Calculus                               %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Macro to put a dot over an expresion, important when there is a dot 
% over another dot

\newcommand*{\DotWithLine}[1]{\accentset{\mbox{\large .}}{#1}}

% Macro to make integral differentials prettier
% Example: \IntegralDif t

\newcommand*\IntegralDif{\mathop{}\!\mathrm{d}}

% Macro to make an integral. The first argument is the integration do-
% main; the second is the integrand; the third, the integration diffe-
% rential

\newcommand{\RegionIntegration}[3]{\int\limits_{#1}#2\IntegralDif#3}

% Command for creating the vertical bar that evaluates derivatives

\newcommand{\EvaluateBar}[2]{\left.#1\right|_{#2}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                         Vectors and matrices                         %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Command for the norm 

\newcommand{\Norm}[2]{\left\lVert #1 \right\rVert_{#2}}

% Command for typing the transposition T

\newcommand{\Transpose}[1]{{#1}^{\!\raisebox{0.2ex}{\scriptsize$%
\mathrm{T}$}}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                      Vector and function spaces                      %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Command for typing the real vector space R^n, where n is the argument

\newcommand{\RealSpace}[1]{\mathbb{R}^{#1}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                              Operators                               %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Command for typing the max and min operators

\newcommand{\Max}[1]{\mathrm{max}\left(#1\right)}

\newcommand{\Min}[1]{\mathrm{min}\left(#1\right)}

% Command for typing the intersection operator

\newcommand{\IntersectionOperator}[2]{\bigcap\limits_{#1}^{#2}}

% Command for typing the argument operator

\newcommand{\ArgumentOperator}[2]{\operatorname*{arg}_{#1}\left\lbrace#2%
\right\rbrace}

% Command for typing the minimum argument operator

\newcommand{\MinimumArgumentOperator}[2]{\operatorname*{argmin}_{#1}\{%
#2\}}

% Command for typing the vec operator, which transforms something into a
% vector

\newcommand*{\VecOperator}[1]{\operatorname{vec}\!\left(#1\right)}

% Command for typing the sym operator, which gives the symmetric part of
% a tensor

\newcommand*{\SymOperator}[1]{\operatorname{sym}\!\left(#1\right)}

% Command for making a generic operator with lower and upper text, like
% U_{j=1}^{k}. The arguments are: the letter to symbolize the operator,
% the lower limit, and the upper limit

\newcommand{\GenericOperator}[3]{\mathop{#1}\limits_{#2}^{#3}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                            Optimization                            %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Command for typesetting an uncontrained optimization problem. The first
% argument is the design variables; the second argument is the objective
% function
%
% Usage example: P=\UnconstrainedOptimizationProblem{x}{f\left(x\right)}

\newcommand{\UnconstrainedOptimizationProblem}[2]{\vcenter{\hbox{%
$\displaystyle\left\{\begin{aligned}
& \min_{#1} && #2
\end{aligned}
\right.$}}}

% Command for typesetting a constrained optimization problem. The first
% argument is the design variables; the second argument is the objective
% function; and the third is the set of constraints (as they would be 
% manually written)
%
% Usage example: P=\ConstrainedOptimizationProblem{x}{f\left(x\right)}{
% g_1(x) = 0,\quad i=1,\dots,m,\\& && h_j(x) \le 0, \quad j=1,\dots,p.}

\newcommand{\ConstrainedOptimizationProblem}[3]{\vcenter{\hbox{%
$\displaystyle\left\{\begin{aligned}
& \min_{#1} && #2 \\
& \text{s.t.} && {#3}
\end{aligned}
\right.$}}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                             Code blocks                            %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Command for defining the code block style    

\definecolor{CodeLightGray}{gray}{0.95}
\definecolor{CodeBarColor}{rgb}{0.8,0.8,0.8}     

\lstdefinestyle{ffcode}{
  backgroundcolor=\color{CodeLightGray},
  basicstyle=\ttfamily\footnotesize,
  frame=single,
  rulecolor=\color{CodeBarColor},
  xleftmargin=2em,
  framexleftmargin=1.5em,
  numbers=left,
  numberstyle=\tiny\color{gray},
  numbersep=0.5em,
  breaklines=true,
  tabsize=2,
  columns=fullflexible
}

% Command for creating a code block

\lstnewenvironment{ffcodeMimic}[1][]{
  \lstset{style=ffcode,#1}
}{}

% Another command for code block

\newenvironment{ffcodeMimicRef}[2][]{%
  \noindent
  \ifstrempty{#2}{}{%
    \captionof{command}{#2}%
  }%
  \ifstrempty{#1}{}{%
    \label{#1}%
  }%
  \begin{ffcodeMimic}
}{%
  \end{ffcodeMimic}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                          Ordinal numbers                           %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Command to put the "o" of first (Portuguese) and "a" of feminine first
% (Portuguese)

\newcommand{\oOrdinal}{$^{\mathrm o}$}

\newcommand{\aOrdinal}{$^{\mathrm a}$}

% Command to put "st", "nd", "rd", and "th"

\newcommand{\stOrdinal}{$^{\mathrm st}$}

\newcommand{\ndOrdinal}{$^{\mathrm nd}$}

\newcommand{\rdOrdinal}{$^{\mathrm rd}$}

\newcommand{\thOrdinal}{$^{\mathrm th}$}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                             Algorithms                             %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Comamand to generate identation blocks in algorithms

\newlength\myindent
\setlength\myindent{2em}
\newcommand\bindent{%
  \begingroup
  \setlength{\itemindent}{\myindent}
  \addtolength{\algorithmicindent}{\myindent}
}
\newcommand\eindent{\endgroup}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                           Textual commands                           %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Command to generate the table of contents and automatically separate 
% it clearing pages above and bellow

\newcommand{\ContentsPage}{\clearpage\tableofcontents\clearpage}

% Command to generate and set the appendix

\newcommand{\AppendixSetup}{\appendix\setcounter{figure}{0}%
\renewcommand\thefigure{A.\arabic{figure}}\addcontentsline{toc}{section%
}{Appendix}}

% Command to insert the bibliography in the file

\newcommand{\InsertBibliography}[1]{\bibliographystyle{%
elsarticle-num-names}\bibliography{#1}}

% Command to take out the text "Preprint submitted to Elsevier"

\newcommand{\TakeOutPreprintElsevier}{\makeatletter\def\ps@pprintTitle{%
\let\@oddhead\@empty\let\@evenhead\@empty\def\@oddfoot{\reset@font\hfil%
\thepage\hfil}\let\@evenfoot\@oddfoot}\makeatother}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                               Colors                               %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\definecolor{LightGray}{gray}{0.7}

\definecolor{DarkGray}{gray}{0.4}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                               Charts                               %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usetikzlibrary{shapes.geometric, arrows}

% Creates flowchart elements

\tikzstyle{terminator} = [rectangle, draw, text centered, rounded corners,%
minimum height=2em]

\tikzstyle{process} = [rectangle, draw, text centered, minimum height=2em]

\tikzstyle{decision} = [diamond, draw, text centered, minimum height=2em]

\tikzstyle{data}=[trapezium, draw, text centered, trapezium left angle=60, %
trapezium right angle=120, minimum height=2em]

\tikzstyle{connector} = [draw, -latex']